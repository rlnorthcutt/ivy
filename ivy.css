/*!
 * Ivy.css — classless, elegant HTML defaults (CORE)
 * Version: 1.0.0
 * URL: https://github.com/rlnorthcutt/ivy
 * License: MIT (https://opensource.org/licenses/MIT)
 */

/** Scope (CORE):
 *  - Document & typography rhythm (fluid headings, readable line-length).
 *  - Minimal color tokens (bg/text/muted/link/border) + dark scheme.
 *  - Clean element defaults: links, lists, blockquotes, code/pre, media.
 *  - Minimal tables & basic form controls (no component theming).
 *  - Tiny a11y touches (selection, focus-visible, sr-only).
 * Use Lattice.css for layout & placement; add only tiny custom CSS on top.
 */

/* ==========================================================================
   0) Root tokens — palette, type scale, rhythm
   ========================================================================== */
:root{
  /* palette */
  --color-bg:#ffffff; --color-text:#1b1f23; --color-muted:#667085;
  --color-link:#00CC66; --color-border:#e5e7eb; --color-surface:#fafafa;

  /* typography & rhythm */
  --font-sans:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,
               Noto Sans,Helvetica Neue,Arial,"Apple Color Emoji",
               "Segoe UI Emoji","Segoe UI Symbol";
  --font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,
               "Liberation Mono","Courier New",monospace;
  --base-size:16px; --font-size: 100%; --lh:1.6; --measure:64rem; /* ideal reading width */
  --radius:.375rem; --m:1rem; /* base spacing for Ivy (independent of Lattice) */
}
/* Dark scheme (minimal swaps) */
@media (prefers-color-scheme:dark){
  :root{--color-bg:#0b0d10; --color-text:#e6e7e9; --color-muted:#888;
        --color-link:#00CC66; --color-border:#23262b; --color-surface:#111418;}
}
/* Responsive type scale (based on 16px root) */
@media (min-width: 576px) {
  :root,:host {--font-size: 106.25%;}
}
@media (min-width: 768px) {
  :root,:host {--font-size: 112.5%;}
}
@media (min-width: 1024px) {
  :root,:host {--font-size: 118.75%;}
}
@media (min-width: 1280px) {
  :root,:host {--font-size: 125%;}
}
@media (min-width: 1536px) {
  :root,:host {--font-size: 131.25%;}
}

/* ==========================================================================
   1) Document & base
   ========================================================================== */
*{box-sizing:border-box;}
html{font-size:100%;} /* honor user prefs */
body{margin:0; font-family:var(--font-sans); font-size:var(--base-size);
     line-height:var(--lh); color:var(--color-text); background:var(--color-bg);
     text-rendering:optimizeLegibility; -webkit-font-smoothing:antialiased;}
main,article,section,header,footer,aside,nav{display:block;}
/* keep content readable by default; override with Lattice if needed */
main,article{max-width:var(--measure); margin:0 auto; padding:0 var(--m);}

/* ==========================================================================
   2) Typography flow — headings, paragraphs, lists, hr, quotes
   ========================================================================== */
h1,h2,h3,h4,h5,h6{margin:0 0 .75em; line-height:1.2; font-weight:700;}
h1{font-size:clamp(1.875rem,2vw+1rem,2.5rem);}
h2{font-size:clamp(1.5rem,1.5vw+1rem,2rem);}
h3{font-size:clamp(1.25rem,1vw+1rem,1.5rem);}
h4{font-size:1.125rem;} h5{font-size:1rem;} h6{font-size:.875rem; color:var(--color-muted);}
p,ul,ol,dl,pre,table,blockquote,figure,section,article{margin:0 0 var(--m);}
small{font-size:.875em; color:var(--color-muted);}
strong,b{font-weight:600;} em,i{font-style:italic;}
/* lists */
ul,ol{padding-left:1.25em;}
/* horizontal rule */
hr{border:0; height:1px; background:var(--color-border); margin:1.5rem 0;}
/* blockquote */
blockquote{margin:0 0 var(--m); padding-left:1rem; border-left:3px solid var(--color-border);
           color:var(--color-muted); font-style:italic;}
/* figure */
figure{margin:0 0 var(--m);} figcaption{margin-top:.5rem; color:var(--color-muted);
                                        font-size:.875em; text-align:center;}

/* ==========================================================================
   3) Links and nav
   ========================================================================== */
a{color:var(--color-link); text-decoration:underline; text-underline-offset:2px;}
a:hover{text-decoration-thickness:2px;}
a:focus-visible{outline:2px solid var(--color-link); outline-offset:2px; border-radius:.125rem;}

nav{margin:0 0 var(--m);}
nav>ul,nav>ol{display:flex; flex-wrap:wrap; align-items:center; gap:calc(var(--m)/2);
              list-style:none; margin:0; padding:0;}
nav li{display:flex; align-items:center;}
nav a{display:inline-block; padding:.25rem .2rem; text-decoration:none;}
nav a:hover{text-decoration:underline;}
nav [aria-current=page]{font-weight:700;}
/* opt-in alignment */
nav[data-align=center]>ul,nav[data-align=center]>ol{justify-content:center;}
nav[data-align=end]>ul,nav[data-align=end]>ol{justify-content:flex-end;}


/* ==========================================================================
   4) Code, pre, kbd
   ========================================================================== */
code,kbd,pre,samp{font-family:var(--font-mono); font-size:.95em;}
code{background:var(--color-surface); border:1px solid var(--color-border);
     padding:.1em .35em; border-radius:.25rem;}
pre{padding:1rem; overflow:auto; background:var(--color-surface);
    border:1px solid var(--color-border); border-radius:.375rem;}
pre>code{background:transparent; border:0; padding:0; font-size:1em;}
kbd{background:var(--color-surface); border:1px solid var(--color-border);
    border-bottom-width:2px; border-radius:.25rem; padding:.15em .4em;}

/* ==========================================================================
   5) Media — images, video, svg
   ========================================================================== */
img,svg,video,canvas{max-width:100%; height:auto;}
img{display:block;} svg{display:inline-block; vertical-align:middle;}
/* prevent oversized iframes while keeping ratio */
iframe{max-width:100%; border:0;}

/* ==========================================================================
   6) Tables — minimal, readable
   ========================================================================== */
table{width:100%; border-collapse:collapse;}
th,td{padding:.625rem .75rem; border-bottom:1px solid var(--color-border); text-align:left;}
thead th{border-bottom:2px solid var(--color-border);}
caption{caption-side:bottom; padding:.5rem 0; color:var(--color-muted); font-size:.9em;}

/* ==========================================================================
   7) Forms — normalize & minimal controls (no design system theming)
   ========================================================================== */
input,textarea,select,button{font:inherit; color:inherit; line-height:inherit;}
input,textarea,select{width:100%; padding:.5em .65em; border:1px solid var(--color-border);
  border-radius:var(--radius); background:var(--color-bg);}
textarea{min-height:8rem; resize:vertical;}
select{appearance:none; background-image:
  linear-gradient(45deg,transparent 50%,currentColor 50%),
  linear-gradient(135deg,currentColor 50%,transparent 50%),
  linear-gradient(to right,transparent,transparent);
  background-position:calc(100% - 1.1em) .9em,calc(100% - .7em) .9em,0 0;
  background-size:.4em .4em,.4em .4em,100% 100%; background-repeat:no-repeat;}
input::placeholder,textarea::placeholder{color:var(--color-muted);}
fieldset{border:1px solid var(--color-border); border-radius:var(--radius); padding:1rem;}
legend{padding:0 .35rem; color:var(--color-muted);}
/* buttons: minimal reset so they look decent but not “themed” */
button,[type=button],[type=submit],[type=reset]{display:inline-block; width:auto;
  padding:.5em .8em; border:1px solid var(--color-border); border-radius:var(--radius);
  background:var(--color-surface); cursor:pointer;}
button:disabled,[type=button]:disabled,[type=submit]:disabled,[type=reset]:disabled{
  opacity:.6; cursor:not-allowed;}
/* focus states */
:focus-visible{outline:2px solid var(--color-link); outline-offset:2px;}

/* ==========================================================================
   8) Selection, helpers, misc
   ========================================================================== */
::selection{background:color-mix(in oklab,var(--color-link) 25%,transparent);
            color:inherit;}
/* hide-only helper (tiny a11y utility; safe even if Lattice Extra also defines it) */
.sr-only{position:absolute !important; width:1px !important; height:1px !important;
  padding:0 !important; margin:-1px !important; overflow:hidden !important;
  clip:rect(1px,1px,1px,1px) !important; white-space:nowrap !important; border:0 !important;}
.sr-only-focusable:focus,.sr-only-focusable:active{position:static !important; width:auto !important;
  height:auto !important; margin:0 !important; overflow:visible !important; clip:auto !important;
  white-space:inherit !important;}
/* deprecated HTML alignment attrs (common in old content) */
img[align=left]{float:left; margin:.25rem .75rem .5rem 0;}
img[align=right]{float:right; margin:.25rem 0 .5rem .75rem;}
